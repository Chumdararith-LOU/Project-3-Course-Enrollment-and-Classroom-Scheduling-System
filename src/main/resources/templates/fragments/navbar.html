<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
  <body>
    <nav
      th:fragment="navbar"
      class="fixed top-0 left-0 right-0 bg-white shadow-md z-50"
    >
      <div
        class="container mx-auto px-4 py-3 flex items-center justify-between"
      >
        <a href="/" class="text-xl font-bold text-gray-800"
          >Course Enrollment</a
        >
        <div class="flex items-center space-x-4">
          <a href="/" class="text-gray-700 hover:text-blue-600">Home</a>
          <a href="/courses" class="text-gray-700 hover:text-blue-600"
            >Courses</a
          >
          <span sec:authorize="!isAuthenticated()">
            <a href="/login" class="text-gray-700 hover:text-blue-600">Login</a>
          </span>

          <form
            th:action="@{/perform_logout}"
            method="post"
            sec:authorize="isAuthenticated()"
            class="m-0 p-0"
          >
            <input
              type="hidden"
              th:name="${_csrf.parameterName}"
              th:value="${_csrf.token}"
            />
            <button
              type="submit"
              class="text-gray-700 hover:text-blue-600 bg-transparent border-0 p-0"
            >
              Sign out
            </button>
          </form>
        </div>
      </div>
    </nav>
  </body>
</html>
